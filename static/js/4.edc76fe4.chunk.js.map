{"version":3,"sources":["Detail.js"],"names":["Dib","styled","div","HF","h4","props","color","TabContent","useEffect","changeCssSwitch","selectTab","Info","stock","connect","state","quan","reducer","showAlert","reducerShowAlert","useState","changeShowAlert","changeSelectTab","cssSwitch","history","useContext","stockContext","useHistory","id","useParams","timer","setTimeout","_id","changeInterest","interest","localStorage","getItem","JSON","parse","indexOf","splice","push","setItem","stringify","setInterest","clearTimeout","thisGoods","goods","find","item","className","src","Number","width","title","content","price","onClick","changeStock","dispatch","type","payload","name","goBack","variant","defaultActiveKey","Item","Link","eventKey","in","classNames","timeout"],"mappings":"qOASMA,EAAMC,IAAOC,IAAV,8CAIHC,EAAKF,IAAOG,GAAV,+DAEE,SAAAC,GAAK,OAAIA,EAAMC,SA6FzB,SAASC,EAAWF,GAEnBG,qBAAU,WACTH,EAAMI,iBAAgB,MAGvB,IAAIC,EAAYL,EAAMK,UACtB,OAAkB,IAAdA,EACI,6DACiB,IAAdA,EACH,6DACiB,IAAdA,EACH,kEADD,EAKR,SAASC,EAAKN,GACb,OACC,+CAAQA,EAAMO,MAAM,MAyBPC,uBArBf,SAAcC,GAEZ,MAAO,CACLC,KAAMD,EAAME,QACZC,UAAWH,EAAMI,oBAiBNL,EAlIf,SAAgBR,GAAQ,IAAD,EAEac,oBAAS,GAFtB,mBAEjBF,EAFiB,KAENG,EAFM,OAGaD,mBAAS,IAHtB,gCAIaA,mBAAS,IAJtB,mBAIjBT,EAJiB,KAINW,EAJM,OAKaF,oBAAS,GALtB,mBAKjBG,EALiB,KAKNb,EALM,KAQlBc,GADQC,qBAAWC,KACTC,eACRC,EAAOC,cAAPD,GAENnB,qBAAU,WACT,IAAIqB,EAAQC,YAAW,WACtBV,GAAgB,KACd,KAKH,OAkGF,SAAqBW,EAAKC,GACxB,IAAIC,EAA+C,MAApCC,aAAaC,QAAQ,YAAsB,GAAKC,KAAKC,MAAMH,aAAaC,QAAQ,cAElE,GAA1BF,EAASK,QAAQP,IACpBE,EAASM,OAAON,EAASK,QAAQP,GAAM,GAGxCE,EAASO,KAAKT,GACdE,EAAQ,YAAOA,GACfC,aAAaO,QAAQ,WAAYL,KAAKM,UAAUT,IAChDD,EAAeC,GA/GdU,CAAYhB,EAAItB,EAAM2B,gBAGf,WACNY,aAAaf,MAEZ,CAACZ,IAIJ,IAAI4B,EAAYxC,EAAMyC,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKrB,IAAMA,KAEpD,OACC,sBAAKsB,UAAU,YAAf,UACC,cAACjD,EAAD,UACC,cAACG,EAAD,CAAI8C,UAAU,MAAd,+CAOc,IAAdhC,EAEC,qBAAKgC,UAAU,WAAf,SACC,+GAGA,KAIH,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,WAAf,SACC,qBAAKC,IAAK,6CAA+CC,OAAOxB,GAAM,GAAK,OAAQyB,MAAM,WAE1F,sBAAKH,UAAU,gBAAf,UACC,oBAAIA,UAAU,OAAd,SAAsBJ,EAAUQ,QAChC,4BAAIR,EAAUS,UACd,4BAAIT,EAAUU,QAEd,cAAC5C,EAAD,CAAMC,MAAOP,EAAMO,QAEnB,wBAAQqC,UAAU,qBAAqBO,QAAS,WAC/CnD,EAAMoD,YAAY,CAAC,EAAG,GAAI,KAC1BpD,EAAMqD,SAAS,CAAEC,KAAM,UAAWC,QAAS,CAACjC,GAAIA,EAAIkC,KAAMhB,EAAUQ,MAAOtC,KAAM,KACjFQ,EAAQiB,KAAK,UAHd,sCAKA,wBAAQS,UAAU,qBAAqBO,QAAS,WAC/CjC,EAAQuC,UADT,4CAMF,eAAC,IAAD,CAAKb,UAAU,OAAOc,QAAQ,OAAOC,iBAAiB,SAAtD,UACC,cAAC,IAAIC,KAAL,UACC,cAAC,IAAIC,KAAL,CAAUC,SAAS,SAASX,QAAS,WAAM/C,GAAgB,GAAQY,EAAgB,IAAnF,sBAED,cAAC,IAAI4C,KAAL,UACC,cAAC,IAAIC,KAAL,CAAUC,SAAS,SAASX,QAAS,WAAM/C,GAAgB,GAAQY,EAAgB,IAAnF,2BAIF,cAAC,IAAD,CAAe+C,GAAI9C,EAAW+C,WAAW,MAAMC,QAAS,KAAxD,SACC,cAAC/D,EAAD,CAAYG,UAAWA,EAAWD,gBAAiBA","file":"static/js/4.edc76fe4.chunk.js","sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport './Detail.scss';\r\nimport {stockContext} from './App.js';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { connect } from 'react-redux';\r\n\r\nconst Dib = styled.div`\r\n\tpadding: 40px;\r\n`;\r\n\r\nconst HF = styled.h4`\r\n\tfont-size: 25px;\r\n\tcolor: ${props => props.color};\r\n`;\r\n\r\n\r\n \r\n\r\nfunction Detail(props) {\r\n\t\r\n\tlet [showAlert, changeShowAlert] = useState(true);\r\n\tlet [inputData, changeInputData] = useState('');\r\n\tlet [selectTab, changeSelectTab] = useState(0);\r\n\tlet [cssSwitch, changeCssSwitch] = useState(false);\r\n\r\n\tlet stock = useContext(stockContext);\r\n\tlet history = useHistory();\r\n\tlet { id } = useParams();\r\n\r\n\tuseEffect(()=>{\r\n\t\tlet timer = setTimeout(()=>{\r\n\t\t\tchangeShowAlert(false)\r\n\t\t}, 2000);\r\n\r\n\t\tsetInterest(id, props.changeInterest);\t\t\r\n\r\n\t\t\r\n\t\treturn () => {\r\n\t\t\tclearTimeout(timer);\r\n\t\t}\r\n\t}, [showAlert]);\r\n\r\n\r\n\r\n\tlet thisGoods = props.goods.find(item => item.id == id);\r\n\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<Dib>\r\n\t\t\t\t<HF className=\"red\">상세페이지</HF>\r\n\t\t\t</Dib>\r\n\r\n\t\t\t{/* { inputData }\r\n\t\t\t<input onChange={(e)=>{changeInputData(e.target.value)}} /> */}\r\n\r\n\t\t\t{\r\n\t\t\t\tshowAlert === true\r\n\t\t\t\t? (\r\n\t\t\t\t\t<div className=\"my-alert\">\r\n\t\t\t\t\t\t<p>재고가 얼마 남지 않았습니다.</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t\t: null\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t<img src={\"https://codingapple1.github.io/shop/shoes\" + (Number(id) + 1) + \".jpg\"} width=\"100%\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-6 mt-4\">\r\n\t\t\t\t\t<h4 className=\"pt-5\">{thisGoods.title}</h4>\r\n\t\t\t\t\t<p>{thisGoods.content}</p>\r\n\t\t\t\t\t<p>{thisGoods.price}</p>\r\n\r\n\t\t\t\t\t<Info stock={props.stock}></Info>\r\n\r\n\t\t\t\t\t<button className=\"btn btn-danger m-1\" onClick={()=>{\r\n\t\t\t\t\t\tprops.changeStock([9, 11, 12]);\r\n\t\t\t\t\t\tprops.dispatch({ type: 'addCart', payload: {id: id, name: thisGoods.title, quan: 1}});\r\n\t\t\t\t\t\thistory.push('/cart');\r\n\t\t\t\t\t}}>주문하기</button> \r\n\t\t\t\t\t<button className=\"btn btn-danger m-1\" onClick={() => {\r\n\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t}}>뒤로가기</button> \r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Nav className=\"mt-5\" variant=\"tabs\" defaultActiveKey=\"link-0\">\r\n\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t<Nav.Link eventKey=\"link-0\" onClick={()=>{ changeCssSwitch(false); changeSelectTab(0); }}>Active</Nav.Link>\r\n\t\t\t\t</Nav.Item>\r\n\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t<Nav.Link eventKey=\"link-1\" onClick={()=>{ changeCssSwitch(false); changeSelectTab(1); }}>Option 2</Nav.Link>\r\n\t\t\t\t</Nav.Item>\r\n\t\t\t</Nav>\r\n\r\n\t\t\t<CSSTransition in={cssSwitch} classNames=\"wow\" timeout={1500}>\r\n\t\t\t\t<TabContent selectTab={selectTab} changeCssSwitch={changeCssSwitch}></TabContent>\r\n\t\t\t</CSSTransition>\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction TabContent(props) {\r\n\r\n\tuseEffect(()=>{\r\n\t\tprops.changeCssSwitch(true);\r\n\t})\r\n\r\n\tlet selectTab = props.selectTab;\r\n\tif (selectTab === 0) {\r\n\t\treturn <div>0번째 내용</div>\r\n\t} else if (selectTab === 1) {\r\n\t\treturn <div>1번째 내용</div>\r\n\t} else if (selectTab === 2) {\r\n\t\treturn <div>2번째 내용</div>\r\n\t}\r\n}\r\n\r\nfunction Info(props) {\r\n\treturn (\r\n\t\t<p>재고: {props.stock[0]}</p>\r\n\t)\r\n}\r\n\r\nfunction conn(state) {\r\n  \r\n  return {\r\n    quan: state.reducer,\r\n    showAlert: state.reducerShowAlert\r\n  }\r\n}\r\n\r\nfunction setInterest(_id, changeInterest) {\r\n  let interest = localStorage.getItem('interest') == null ? [] : JSON.parse(localStorage.getItem('interest'));\r\n\r\n\tif (interest.indexOf(_id) != -1) {\r\n\t\tinterest.splice(interest.indexOf(_id), 1);\r\n\t}\r\n\r\n\tinterest.push(_id);\r\n\tinterest = [...interest];\r\n\tlocalStorage.setItem('interest', JSON.stringify(interest));\r\n\tchangeInterest(interest);\r\n}\r\n\r\nexport default connect(conn)(Detail);"],"sourceRoot":""}